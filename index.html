<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Chuck Norris Jokes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="dist/css/main.css">
</head>
<body>

    <div class="container-fluid position-relative mx-auto min-vh-100 main-wrapper">

        <header class="d-flex justify-content-between align-items-center">
            <h1 class="h5 fw-bold m-0">MSI 2020</h1>
            <button class="btn d-lg-none d-flex align-items-center gap-2 text-muted font-weight-bold burger-button" type="button" data-toggle="modal" data-target="#favourite-modal">
                <span class="burger-icon d-inline-block position-relative rounded-circle"></span> Favourite
            </button>
        </header>

        <div class="row h-100 mt-0 g-5 position-relative">

            <main class="col-lg-8 col-12 left-panel bg-white">
                <div class="main-content">
                    <section class="intro mb-5">
                        <h2 class="font-weight-bold">Hey!</h2>
                        <p class="h4 font-weight-normal">Let’s try to find a joke for you:</p>
                    </section>

                    <section class="search-controls mb-4">
                        <div class="form-check mb-2">
                            <div class="d-flex align-items-center">
                                <input class="form-check-input search-mode-input border-2 rounded-circle ml-0 mt-0" type="radio" name="searchMode" id="modeRandom" value="random" checked>
                                <label class="form-check-label" for="modeRandom">Random</label>
                            </div>
                        </div>

                        <div class="form-check mb-2">
                            <div class="d-flex align-items-center">
                                <input class="form-check-input search-mode-input border-2 rounded-circle ml-0 mt-0" type="radio" name="searchMode" id="modeCategory" value="category" data-controls="categories-container">
                                <label class="form-check-label" for="modeCategory">From categories</label>
                            </div>
                        <div>
                                <div id="categories-container" class="mb-3 d-flex flex-wrap d-none text-uppercase js-search-control-target"></div>
                            </div>
                        </div>


                        <div class="form-check mb-3">
                            <div class="d-flex align-items-center">
                                <input class="form-check-input search-mode-input border-2 rounded-circle ml-0 mt-0" type="radio" name="searchMode" id="modeSearch" value="search" data-controls="search-input-container">
                                <label class="form-check-label" for="modeSearch">Search</label>
                            </div>
                            <div>
                                <div id="search-input-container" class="mb-3 d-none js-search-control-target">
                                    <input type="text" class="form-control shadow-sm mw-100 py-3" id="search-input" placeholder="Free text search...">
                                </div>
                            </div>
                        </div>

                        <button id="get-joke-btn" class="btn btn-primary px-4 py-2 font-weight-bold">Get a joke</button>
                    </section>

                    <div id="status-area" class="mb-3"></div>

                    <section id="main-joke-container" class="pt-3"></section>
                </div>
            </main>

            <aside class="col-lg-4 col-md-7 min-vh-100 right-panel favourite-sidebar fixed-right-mobile end-0 d-none d-lg-block p-40px bg-light-gray" tabindex="-1">
                <h3 class="h5 text-muted font-weight-bold mb-4 d-none d-lg-block" id="favouriteSidebarLabel">
                    Favourite
                </h3>
                <div id="favourites-list-content" class="d-flex flex-column"></div>
            </aside>

        </div>
    </div>

<!-- Bootstrap 5 already has offcanvas, but EI-10 doesn't support this, so we should use Bootstrap 4 and modal feature -->
<div class="modal fade right favourite-list-modal" id="favourite-modal" tabindex="-1" role="dialog" aria-labelledby="favourite-modal" aria-hidden="true">
    <div class="modal-dialog" role="document"> 
        <div class="modal-content bg-light-gray">

            <div class="modal-header border-0 d-lg-none d-flex justify-content-between align-items-center mb-4 p-40px pb-0">
                <span class="font-weight-normal fav-title-mobile">Favourite</span>
                <button type="button" class="close-circle-btn d-flex border-0 justify-content-center align-items-center" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">✕</span>
                </button>
            </div>

            <div class="modal-body p-40px pt-0">
                <div id="favourites-list-mobile" class="d-flex flex-column"></div>
        </div>
    </div>
</div>

<!-- Usually we should use <template> here, butr for EI compatibility we need to use the way like this. Polyfill didn't help here :( -->
<script type = "text/template" id="joke-card-template">
    <div class="joke-card position-relative bg-light-gray">
        <div class="joke-wrapper p-40px">

            <button id="fav-heart-btn" class="fav-heart-btn d-flex border-0 bg-transparent ml-auto">
                <svg class="heart-icon" viewBox="0 0 24 24">
                    <path d="M12.1 8.64l-.1.1-.11-.1C10.14 6.6 7.1 6.24 5.1 8.28c-2.04 2.04-1.7 5.07.32 7.09l6.23 6.23c.2.2.51.2.71 0l6.23-6.23c2.02-2.02 2.36-5.05.32-7.09-2-2.04-5.04-1.68-6.1.36z"></path>
                </svg>
            </button>

            <div class="joke-content">
                <div class="d-flex align-items-start joke-content-inner">
                    <div class="joke-icon bg-white d-flex align-items-center justify-content-center">
                        <i class="bi bi-chat-left-text"></i>
                    </div>
                    <div class="flex-grow-1">
                        <div class="d-flex align-items-start">
                            <span class="joke-id text-muted small font-weight-normal">
                                ID: <a href="#" class="external-link text-primary"></a>
                            </span>
                            <i class="share-icon bi bi-box-arrow-up-right small"></i>
                        </div>

                        <p class="joke-text font-weight-normal"></p>
                        <div class="d-flex justify-content-between align-items-md-center flex-md-row flex-column align-items-start">
                            <span class="last-update text-muted small">
                                Last update: <span class="hours-ago font-weight-normal"></span><span class="font-weight-normal"> hours ago</span>
                            </span>
                            <span class="joke-category rounded-pill border bg-white small text-uppercase font-weight-normal d-none"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"></script>

<script src="dist/js/main.js"></script>

<!-- For EI-10 -->
<script>
    window.MSInputMethodContext && document.documentMode && document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/3.26.1/minified.js"><\/script>');
</script>
</body>
</html>